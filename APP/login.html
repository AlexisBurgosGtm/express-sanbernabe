<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8" />
    <link rel="apple-touch-icon" sizes="76x76" href="./assets/img/apple-icon.png">
    <link rel="icon" type="image/png" href="./assets/img/favicon.png">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
    <title>AresPOS-online</title>
    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0, shrink-to-fit=no' name='viewport' />
    
    <!--     Fonts and icons     -->
    <link href="https://fonts.googleapis.com/css?family=Montserrat:400,700,200" rel="stylesheet" />
    <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
    
    <!-- CSS Files 
    <link href="./assets/css/now-ui-dashboard.css?v=1.0.1" rel="stylesheet" />
    -->
    <link href="./assets/css/bootstrap.min.css" rel="stylesheet" />
    <link href="./assets/css/now-ui-dashboard.css" rel="stylesheet" />
    <link rel="stylesheet" href="./assets/css/btn.css">
    <link rel="stylesheet" href="./assets/css/themify-icons.css">

     <!-- service worker -->
     <meta name="application-name" content="AresPOS" />
     <meta name="theme-color" content="#ffffff">
     <link rel="manifest" href="manifest.json">
</head>

<body id="up">
    <div class="wrapper ">

        <div class="main-panel">
       
            <!-- End Navbar -->
            <div class="content">
                <!--espacio-->
                <h1>.</h1>
                <h6> </h6>
                <div class="row" id="contenedor">
                    
                </div>
            </div>

            
            <footer class="footer">
                <div class="container-fluid">
                    <div class="copyright">
                        &copy;
                        <script>
                            document.write(new Date().getFullYear())
                        </script>, Desarrollado por Alexis Burgos (AlexisBurgosGtm@gmail.com)
                    </div>
                </div>
            </footer>
            

        </div>
    </div>

</body>
<!--   Core JS Files   -->
<script src="./assets/js/core/jquery.min.js"></script>
<script src="./assets/js/core/popper.min.js"></script>
<script src="./assets/js/core/bootstrap.min.js"></script>
<script src="./assets/js/plugins/perfect-scrollbar.jquery.min.js"></script>

<!--  Notifications Plugin    -->
<script src="./assets/js/now-ui-dashboard.js"></script>

<!--Librerías varias-->
<script src="./assets/js/sweetalert.min.js"></script> <!--alertas varias-->
<script src="./assets/js/JsStore.min.js"></script> <!-- para trabajar con IndexDb-->
<script src="./controllers/funciones.js"></script>
<script src="./controllers/GlobalVars.js"></script>
<script src="./controllers/database.js"></script>

<!-- controladores -->
<script src="./controllers/inicio.js"></script>
<script async src="./controllers/dataventas.js"></script>
<script async src="./controllers/index.js"></script>
<script async src="./controllers/config.js"></script>

<script>
    
    if ('serviceWorker' in navigator) {
        window.addEventListener('load', () =>
            navigator.serviceWorker.register('sw.js')
            .then(registration => console.log('Service Worker registered'))
            .catch(err => 'SW registration failed'));
        };

              //carga la lista de empresas en el combobox
            try {
                const response = await fetch('/api/empresas/all')
                const json = await response.json();
                let comboboxemp = document.getElementById('cmbEmpresas')

                comboboxemp.innerHTML = ''
                comboboxemp.innerHTML = json.recordset.map((empresa)=>{
                return `<option value="${empresa.EMPNIT}">${empresa.EMPNOMBRE}</option>`;        
               }).join('\n');
   
            } catch (error) {
                console.log(error);
                funciones.AvisoError('No se pudo cargar la lista de empresas');
            }

        //inicializa el botón para agregar el token inicial
        btnConfigTokenInicial = document.getElementById('btnConfigTokenInicial');
        btnConfigTokenInicial.addEventListener('click',()=>{
            funciones.loadView('./views/viewConfig.html')
                .then(()=>{CargarBotonesConfig();});
        });
           
     
    //const socket = io();   

    //StartRecognition();
   
</script>


</html>
